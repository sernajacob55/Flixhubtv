<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlixHubTV</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <h1>FlixHubTV</h1>
  </header>

  <!-- Top Bar -->
  <div class="top-bar">
    <input type="text" id="searchBar" placeholder="Search movies or categories..." onkeyup="searchMovies()">
    <button id="switchProfile" onclick="switchProfile()">Switch</button>
    <button id="logoutBtn" onclick="logout()">Logout</button>
  </div>

  <!-- Categories -->
  <div class="categories">
    <button onclick="filterCategory('all')">All</button>
    <button onclick="filterCategory('Action')">Action</button>
    <button onclick="filterCategory('Comedy')">Comedy</button>
    <button onclick="filterCategory('Drama')">Drama</button>
    <button onclick="filterCategory('Horror')">Horror</button>
    <button onclick="filterCategory('Romance')">Romance</button>
    <button onclick="filterCategory('Sci-Fi')">Sci-Fi</button>
    <button onclick="filterCategory('Thriller')">Thriller</button>
    <button onclick="filterCategory('Animation')">Animation</button>
    <button onclick="filterCategory('Documentary')">Documentary</button>
  </div>

  <!-- Movies Container -->
  <div id="moviesContainer"></div>

  <script>
    // Example movies
    const movies = [
      {
        id: 1,
        title: "The Matrix",
        year: "1999",
        duration: "2h 16m",
        genre: "Sci-Fi",
        description: "A computer hacker learns about the true nature of reality and his role in the war against its controllers.",
        cover: "covers/matrix.jpg",
        video: "https://download1351.mediafire.com/3yzrkgjjifhg-kBE2HT1i1X9UAOckBG5zokIOlih39t_HouFQji-qXpatH5FZw4-C20r5fD-Do-cJ7MyM7aRD8Uhz-BWQJcs5amcyCuEtcHjyhO0h9VWx1VfHxjIiSyiHJGpXfJ7VTnSDmR4Snc7RL0MH0eoZtOMVXw0Pr_Jfhb4N3Y/rks796idw5xqo2i/The+Matrix.mp4"
      }
    ];

    // Load movies
    function loadMovies() {
      const container = document.getElementById('moviesContainer');
      container.innerHTML = '';
      movies.forEach(movie => {
        const tile = document.createElement('div');
        tile.classList.add('movie-tile');
        tile.innerHTML = `
          <img src="${movie.cover}" alt="${movie.title}">
          <p>${movie.title}</p>
        `;
        tile.onclick = () => {
          window.location.href = `movie.html?id=${movie.id}`;
        };
        container.appendChild(tile);
      });
    }

    // Filter by category
    function filterCategory(category) {
      const container = document.getElementById('moviesContainer');
      container.innerHTML = '';
      const filtered = category === 'all' ? movies : movies.filter(m => m.genre === category);
      filtered.forEach(movie => {
        const tile = document.createElement('div');
        tile.classList.add('movie-tile');
        tile.innerHTML = `
          <img src="${movie.cover}" alt="${movie.title}">
          <p>${movie.title}</p>
        `;
        tile.onclick = () => {
          window.location.href = `movie.html?id=${movie.id}`;
        };
        container.appendChild(tile);
      });
    }

    // Search function
    function searchMovies() {
      const query = document.getElementById('searchBar').value.toLowerCase();
      const container = document.getElementById('moviesContainer');
      container.innerHTML = '';
      const filtered = movies.filter(movie =>
        movie.title.toLowerCase().includes(query) ||
        movie.genre.toLowerCase().includes(query)
      );
      filtered.forEach(movie => {
        const tile = document.createElement('div');
        tile.classList.add('movie-tile');
        tile.innerHTML = `
          <img src="${movie.cover}" alt="${movie.title}">
          <p>${movie.title}</p>
        `;
        tile.onclick = () => {
          window.location.href = `movie.html?id=${movie.id}`;
        };
        container.appendChild(tile);
      });
    }

    // Switch profile
    function switchProfile() {
      window.location.href = "profiles.html";
    }

    // Logout
    function logout() {
      window.location.href = "login.html";
    }

    window.onload = loadMovies;
  </script>
</body>
</html>