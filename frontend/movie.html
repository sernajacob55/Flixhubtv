<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Matrix • FlixHubTV</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Top bar -->
  <div class="topbar">
    <div class="wrapper topbar-inner">
      <h1 id="brand">FlixHubTV</h1>
      <a href="index.html" class="btn btn-ghost">Home</a>
    </div>
  </div>

  <!-- Movie detail -->
  <div class="wrapper">
    <div class="detail">
      <img id="poster" class="poster" alt="The Matrix Poster">
      <div class="meta">
        <h2 id="title">The Matrix</h2>
        <div class="row">
          <span id="year">Year: 1999</span>
          <span id="duration">Duration: 2h 16m</span>
          <span id="genre">Genres: Sci-Fi</span>
        </div>
        <p id="plot">A computer hacker learns about the true nature of reality and his role in the war against its controllers.</p>
        <button id="playBtn" class="btn btn-primary">▶ Play</button>
      </div>
    </div>
  </div>

  <!-- Video Player Modal -->
  <div id="playerModal" class="modal">
    <div class="player-shell">
      <video id="videoPlayer" preload="metadata">
        <source src="https://download1351.mediafire.com/moph99vymelgB4tgVyH9-EiWi8-NqEibljxmsFvx7MJGEr6mF6KBkWiSUCA99-DhpkeeA1m42myFlnxm20g63-4yxCtqulAo-babZQt1Nu68RQGklpbZcsAnQlBFgd8Qfgto6AOQrxZ7DqkDJ0Mw0RDXGlcCFra4ZLOqktfQiw2sbJY/rks796idw5xqo2i/The+Matrix.mp4" type="video/mp4">
        Your browser does not support HTML5 video.
      </video>

      <!-- Custom Controls -->
      <div class="video-controls">
        <button id="playPause" class="control-btn">▶</button>
        <span id="currentTime">0:00</span>
        <input type="range" id="progressBar" value="0" min="0" max="100">
        <span id="durationTime">0:00</span>
        <input type="range" id="volumeBar" min="0" max="1" step="0.05" value="1">
        <button id="fullscreenBtn" class="control-btn">⛶</button>
        <button id="closeBtn" class="control-btn close">✖</button>
      </div>
    </div>
  </div>

  <!-- Player logic -->
  <script src="player.js"></script>

  <!-- Metadata fetcher -->
  <script>
    const API_KEY = "ea7569d7"; // OMDb key
    async function loadMeta() {
      try {
        const url = `https://www.omdbapi.com/?t=${encodeURIComponent("The Matrix")}&apikey=${API_KEY}`;
        const res = await fetch(url);
        const data = await res.json();

        if (data.Response === "True") {
          document.getElementById("poster").src = data.Poster;
          document.getElementById("title").textContent = data.Title;
          document.getElementById("year").textContent = `Year: ${data.Year}`;
          document.getElementById("duration").textContent = `Duration: ${data.Runtime}`;
          document.getElementById("genre").textContent = `Genres: ${data.Genre}`;
          document.getElementById("plot").textContent = data.Plot;
        }
      } catch (err) {
        console.error("Metadata fetch failed:", err);
      }
    }
    loadMeta();
  </script>
</body>
</html>